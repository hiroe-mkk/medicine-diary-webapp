<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}"
>
  <head>
    <meta charset="UTF-8" th:remove="tag" />
    <script th:src="@{/dist/js/medicineOverviews.bundle.js}" defer></script>
  </head>

  <body>
    <div id="medicineOverviews" layout:fragment="content">
      <div class="container is-max-desktop p-3">
        <div class="content has-text-centered mb-3">
          <p class="icon-text is-size-4 is-flex is-justify-content-center">
            <strong class="has-text-grey-dark">お薬一覧</strong>
            <span class="icon has-text-grey-dark mx-2">
              <i class="fa-solid fa-capsules"></i>
            </span>
          </p>
          <div
            class="tabs is-toggle is-toggle-rounded is-centered is-small mb-0"
            th:if="${isParticipatingInSharedGroup}"
          >
            <ul class="m-0">
              <li
                :class="{ 'is-active': type === 'OWNED' }"
                @click="type = 'OWNED'"
              >
                <a>
                  <small class="has-text-weight-bold">　 あなた 　</small>
                </a>
              </li>
              <li
                :class="{ 'is-active': type === 'SHARED_GROUP' }"
                @click="type = 'SHARED_GROUP'"
              >
                <a>
                  <small class="has-text-weight-bold">　　共有　　</small>
                </a>
              </li>
              <li
                :class="{ 'is-active': type === 'MEMBERS' }"
                @click="type = 'MEMBERS'"
              >
                <a>
                  <small class="has-text-weight-bold">　メンバー　</small>
                </a>
              </li>
            </ul>
          </div>
        </div>

        <div class="notification has-background-white p-3">
          <div
            v-show="type === 'OWNED'"
            th:insert="~{fragments/medicineOverviews::macro(${medicineOverviews.ownedMedicines})}"
            v-clock
          ></div>
          <div
            th:insert="~{fragments/medicineOverviews::macro(${medicineOverviews.sharedGroupMedicines})}"
            v-show="type === 'SHARED_GROUP'"
            th:if="${isParticipatingInSharedGroup}"
            v-clock
          ></div>
          <div
            th:insert="~{fragments/medicineOverviews::macro(${medicineOverviews.membersMedicines})}"
            v-show="type === 'MEMBERS'"
            th:if="${isParticipatingInSharedGroup}"
            v-clock
          ></div>
        </div>
      </div>

      <div class="bottom-fullwidth">
        <div class="tabs is-fullwidth has-background-info-light">
          <ul class="m-0">
            <li>
              <a class="px-0 py-4" th:href="@{/medicines/register}">
                <p class="button is-link is-rounded is-outlined">
                  <span
                    class="icon fas fa-lg is-flex is-align-items-center mr-0"
                  >
                    <i class="fa-solid fa-plus"></i>
                  </span>
                  <strong> お薬を登録する </strong>
                </p>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
