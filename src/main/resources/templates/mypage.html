<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layoutWithFooter}"
>
  <head>
    <meta charset="UTF-8" th:remove="tag" />
    <script th:src="@{/dist/js/mypage.bundle.js}" defer></script>
  </head>

  <body>
    <div id="mypage" layout:fragment="content">
      <div class="container is-max-desktop">
        <div class="content has-text-centered">
          <div class="is-flex is-justify-content-center">
            <figure class="image is-128x128 m-1">
              <img
                th:src="${profile.profileImageURL}"
                class="is-rounded"
                th:if="${profile.profileImageURL != null}"
              />
              <img
                :src="noProfileImage"
                class="is-rounded"
                th:if="${profile.profileImageURL == null}"
              />
            </figure>
          </div>
          <p class="icon-text">
            <strong
              class="is-size-4 has-text-grey-dark"
              th:text="${profile.username}"
              th:if="${!profile.username.isDefaultValue()}"
            >
            </strong>
            <strong
              class="is-size-5 has-text-grey"
              th:if="${profile.username.isDefaultValue()}"
            >
              ( unknown )
            </strong>
          </p>
        </div>

        <div class="content has-text-centered mb-2">
          <div class="columns is-mobile">
            <a
              class="column notification is-clickable has-text-centered has-background-link has-text-white pb-3 pt-5 m-3"
              th:href="@{/medicines}"
            >
              <span class="icon is-large fas fa-2x">
                <i class="fa-solid fa-capsules"></i>
              </span>
            </a>
            <a
              class="column notification is-clickable has-text-centered has-background-link has-text-white pb-3 pt-5 m-3"
              th:href="@{/medication-records}"
            >
              <span class="icon is-large fas fa-2x">
                <i class="fa-solid fa-book-open"></i>
              </span>
            </a>
            <a
              class="column notification is-clickable has-text-centered has-background-link has-text-white pb-3 pt-5 m-3"
              th:href="@{/shared-group/management}"
            >
              <span class="icon is-large fas fa-2x">
                <i class="fa-solid fa-user-group"></i>
              </span>
            </a>
            <a
              class="column notification is-clickable has-text-centered has-background-link has-text-white pb-3 pt-5 m-3"
              th:href="@{/setting}"
            >
              <span class="icon is-large fas fa-2x">
                <i class="fa-solid fa-gear"></i>
              </span>
            </a>
          </div>
        </div>

        <medication-records
          th:attr="':is-participating-in-shared-group'=${isParticipatingInSharedGroup}, csrf=${_csrf.token}"
        ></medication-records>
      </div>
    </div>
  </body>
</html>